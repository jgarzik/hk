# QEMU with graphics console configuration
# - Tests the GOP/framebuffer code path in QEMU
# - Useful for validating graphics console before real hardware

insmod all_video
insmod gfxterm

set gfxmode=1024x768x32,auto
set gfxpayload=keep
terminal_output gfxterm

set timeout=0
set default=0

insmod multiboot2

menuentry "hk kernel" {
    echo "Loading kernel..."
    multiboot2 /boot/kernel root=/dev/ram0
    module2 /boot/initramfs.cpio initramfs
    module2 /boot/vfat.img vfat
    echo "Booting..."
    boot
}
